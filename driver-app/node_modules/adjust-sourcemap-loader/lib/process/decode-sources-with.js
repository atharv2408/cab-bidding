'use strict';

var getFieldAsFn = require('./get-field-as-fn');

/**
 * Create a decoder for input sources using the given codec hash
 * @this {object} A loader or compilation
 * @param {Array.<object>} codecs A list of codecs, each with a `decode` function
 * @param {boolean} mustDecode Return an error for a source that is not decoded
 * @returns {function(string):string|Error} A decode function that returns an absolute path or else an Error
 */
function decodeSourcesWith(codecs, mustDecode) {
  /* jshint 